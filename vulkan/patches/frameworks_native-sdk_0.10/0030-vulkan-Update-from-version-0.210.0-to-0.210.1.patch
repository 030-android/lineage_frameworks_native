From 1bed42cafc4ee646dd964d99749dabd45399667a Mon Sep 17 00:00:00 2001
From: Jesse Hall <jessehall@google.com>
Date: Mon, 30 Nov 2015 21:44:14 -0800
Subject: [PATCH 30/30] vulkan: Update from version 0.210.0 to 0.210.1

Change-Id: I9adf217587a8b666bcf04818004dce4e97b87fd1
---
 vulkan/api/vulkan.api          | 59 +++++++++++++++++++++---------------------
 vulkan/include/vulkan/vulkan.h | 24 ++++++++---------
 vulkan/libvulkan/Android.mk    |  4 ---
 vulkan/tools/Android.mk        |  4 ---
 4 files changed, 42 insertions(+), 49 deletions(-)

diff --git a/vulkan/api/vulkan.api b/vulkan/api/vulkan.api
index 63188d5..b31e6a2 100644
--- a/vulkan/api/vulkan.api
+++ b/vulkan/api/vulkan.api
@@ -28,7 +28,7 @@ import platform "platform.api"
 // API version (major.minor.patch)
 define VERSION_MAJOR 0
 define VERSION_MINOR 210
-define VERSION_PATCH 0
+define VERSION_PATCH 1
 
 // API limits
 define VK_MAX_PHYSICAL_DEVICE_NAME_SIZE 256
@@ -148,7 +148,7 @@ enum VkImageLayout {
     VK_IMAGE_LAYOUT_PREINITIALIZED                          = 0x00000008,   /// Initial layout used when the data is populated by the CPU
 
     //@extension("VK_KHR_swapchain")
-    VK_IMAGE_LAYOUT_PRESENT_SRC_KHR                         = 0xc0000802,
+    VK_IMAGE_LAYOUT_PRESENT_SRC_KHR                         = 1000001002,
 }
 
 enum VkAttachmentLoadOp {
@@ -623,14 +623,15 @@ enum VkStructureType {
     VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO                 = 47,
 
     //@extension("VK_KHR_swapchain")
-    VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR                 = 0xc0000801,
+    VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR                 = 1000001000,
+    VK_STRUCTURE_TYPE_PRESENT_INFO_KHR                          = 1000001001,
 
     //@extension("VK_KHR_display")
-    VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR              = 0xc0000c00,
-    VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR           = 0xc0000c01,
+    VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR              = 1000002000,
+    VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR           = 1000002001,
 
     //@extension("VK_KHR_display_swapchain")
-    VK_STRUCTURE_TYPE_DISPLAY_DISPLAY_PRESENT_INFO_KHR          = 0xc0001000,
+    VK_STRUCTURE_TYPE_DISPLAY_DISPLAY_PRESENT_INFO_KHR          = 1000003000,
 }
 
 enum VkSubpassContents {
@@ -638,44 +639,44 @@ enum VkSubpassContents {
     VK_SUBPASS_CONTENTS_SECONDARY_COMMAND_BUFFERS           = 0x00000001,
 }
 
-@lastUnused(-10)
+@lastUnused(-11)
 /// Error and return codes
 enum VkResult {
     // Return codes for successful operation execution (positive values)
-    VK_SUCCESS                                              = 0x00000000,
-    VK_NOT_READY                                            = 0x00000001,
-    VK_TIMEOUT                                              = 0x00000002,
-    VK_EVENT_SET                                            = 0x00000003,
-    VK_EVENT_RESET                                          = 0x00000004,
-    VK_INCOMPLETE                                           = 0x00000005,
+    VK_SUCCESS                                              = 0,
+    VK_NOT_READY                                            = 1,
+    VK_TIMEOUT                                              = 2,
+    VK_EVENT_SET                                            = 3,
+    VK_EVENT_RESET                                          = 4,
+    VK_INCOMPLETE                                           = 5,
 
     //@extension("VK_KHR_swapchain")
-    VK_SUBOPTIMAL_KHR                                       = 0x40000403,
+    VK_SUBOPTIMAL_KHR                                       = 1000001003,
 
     // Error codes (negative values)
-    VK_ERROR_OUT_OF_HOST_MEMORY                             = 0xFFFFFFFF,
-    VK_ERROR_OUT_OF_DEVICE_MEMORY                           = 0xFFFFFFFE,
-    VK_ERROR_INITIALIZATION_FAILED                          = 0xFFFFFFFD,
-    VK_ERROR_DEVICE_LOST                                    = 0xFFFFFFFC,
-    VK_ERROR_MEMORY_MAP_FAILED                              = 0xFFFFFFFB,
-    VK_ERROR_LAYER_NOT_PRESENT                              = 0xFFFFFFFA,
-    VK_ERROR_EXTENSION_NOT_PRESENT                          = 0xFFFFFFF9,
-    VK_ERROR_FEATURE_NOT_PRESENT                            = 0xFFFFFFF8,
-    VK_ERROR_INCOMPATIBLE_DRIVER                            = 0xFFFFFFF7,
-    VK_ERROR_TOO_MANY_OBJECTS                               = 0xFFFFFFF6,
-    VK_ERROR_FORMAT_NOT_SUPPORTED                           = 0xFFFFFFF5,
+    VK_ERROR_OUT_OF_HOST_MEMORY                             = 0xFFFFFFFF, // -1
+    VK_ERROR_OUT_OF_DEVICE_MEMORY                           = 0xFFFFFFFE, // -2
+    VK_ERROR_INITIALIZATION_FAILED                          = 0xFFFFFFFD, // -3
+    VK_ERROR_DEVICE_LOST                                    = 0xFFFFFFFC, // -4
+    VK_ERROR_MEMORY_MAP_FAILED                              = 0xFFFFFFFB, // -5
+    VK_ERROR_LAYER_NOT_PRESENT                              = 0xFFFFFFFA, // -6
+    VK_ERROR_EXTENSION_NOT_PRESENT                          = 0xFFFFFFF9, // -7
+    VK_ERROR_FEATURE_NOT_PRESENT                            = 0xFFFFFFF8, // -8
+    VK_ERROR_INCOMPATIBLE_DRIVER                            = 0xFFFFFFF7, // -9
+    VK_ERROR_TOO_MANY_OBJECTS                               = 0xFFFFFFF6, // -10
+    VK_ERROR_FORMAT_NOT_SUPPORTED                           = 0xFFFFFFF5, // -11
 
     //@extension("VK_KHR_surface")
-    VK_ERROR_SURFACE_LOST_KHR                               = 0xC0000400,
+    VK_ERROR_SURFACE_LOST_KHR                               = 0xC4653600, // -1000000000
 
     //@extension("VK_KHR_swapchain")
-    VK_ERROR_OUT_OF_DATE_KHR                                = 0xC0000804,
+    VK_ERROR_OUT_OF_DATE_KHR                                = 0xC4653214, // -1000001004
 
     //@extension("VK_KHR_display_swapchain")
-    VK_ERROR_INCOMPATIBLE_DISPLAY_KHR                       = 0xC0001001,
+    VK_ERROR_INCOMPATIBLE_DISPLAY_KHR                       = 0xC4652A47, // -1000003001
 
     //@extension("VK_KHR_android_surface")
-    VK_ERROR_NATIVE_WINDOW_IN_USE_KHR                       = 0xC0002400,
+    VK_ERROR_NATIVE_WINDOW_IN_USE_KHR                       = 0xC46516C0, // -1000008000
 }
 
 enum VkDynamicState {
diff --git a/vulkan/include/vulkan/vulkan.h b/vulkan/include/vulkan/vulkan.h
index 598d98e..fa58c59 100644
--- a/vulkan/include/vulkan/vulkan.h
+++ b/vulkan/include/vulkan/vulkan.h
@@ -41,7 +41,7 @@ extern "C" {
     ((major << 22) | (minor << 12) | patch)
 
 // Vulkan API version supported by this file
-#define VK_API_VERSION VK_MAKE_VERSION(0, 210, 0)
+#define VK_API_VERSION VK_MAKE_VERSION(0, 210, 1)
 
 
 #define VK_NULL_HANDLE 0
@@ -125,11 +125,11 @@ typedef enum VkResult {
     VK_ERROR_INCOMPATIBLE_DRIVER = -9,
     VK_ERROR_TOO_MANY_OBJECTS = -10,
     VK_ERROR_FORMAT_NOT_SUPPORTED = -11,
-    VK_ERROR_SURFACE_LOST_KHR = 0xC0000400,
-    VK_SUBOPTIMAL_KHR = 0x40000403,
-    VK_ERROR_OUT_OF_DATE_KHR = 0xC0000804,
-    VK_ERROR_INCOMPATIBLE_DISPLAY_KHR = 0xC0001001,
-    VK_ERROR_NATIVE_WINDOW_IN_USE_KHR = 0xC0002400,
+    VK_ERROR_SURFACE_LOST_KHR = -1000000000,
+    VK_SUBOPTIMAL_KHR = 1000001003,
+    VK_ERROR_OUT_OF_DATE_KHR = -1000001004,
+    VK_ERROR_INCOMPATIBLE_DISPLAY_KHR = -1000003001,
+    VK_ERROR_NATIVE_WINDOW_IN_USE_KHR = -1000008000,
     VK_RESULT_BEGIN_RANGE = VK_ERROR_FORMAT_NOT_SUPPORTED,
     VK_RESULT_END_RANGE = VK_INCOMPLETE,
     VK_RESULT_RANGE_SIZE = (VK_INCOMPLETE - VK_ERROR_FORMAT_NOT_SUPPORTED + 1),
@@ -185,11 +185,11 @@ typedef enum VkStructureType {
     VK_STRUCTURE_TYPE_MEMORY_BARRIER = 45,
     VK_STRUCTURE_TYPE_LOADER_INSTANCE_CREATE_INFO = 46,
     VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO = 47,
-    VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR = 0xC0000800,
-    VK_STRUCTURE_TYPE_PRESENT_INFO_KHR = 0xC0000801,
-    VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR = 0xC0000C00,
-    VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR = 0xC0000C01,
-    VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR = 0xC0001000,
+    VK_STRUCTURE_TYPE_SWAPCHAIN_CREATE_INFO_KHR = 1000001000,
+    VK_STRUCTURE_TYPE_PRESENT_INFO_KHR = 1000001001,
+    VK_STRUCTURE_TYPE_DISPLAY_MODE_CREATE_INFO_KHR = 1000002000,
+    VK_STRUCTURE_TYPE_DISPLAY_SURFACE_CREATE_INFO_KHR = 1000002001,
+    VK_STRUCTURE_TYPE_DISPLAY_PRESENT_INFO_KHR = 1000003000,
     VK_STRUCTURE_TYPE_BEGIN_RANGE = VK_STRUCTURE_TYPE_APPLICATION_INFO,
     VK_STRUCTURE_TYPE_END_RANGE = VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO,
     VK_STRUCTURE_TYPE_RANGE_SIZE = (VK_STRUCTURE_TYPE_LOADER_DEVICE_CREATE_INFO - VK_STRUCTURE_TYPE_APPLICATION_INFO + 1),
@@ -468,7 +468,7 @@ typedef enum VkImageLayout {
     VK_IMAGE_LAYOUT_TRANSFER_SRC_OPTIMAL = 6,
     VK_IMAGE_LAYOUT_TRANSFER_DST_OPTIMAL = 7,
     VK_IMAGE_LAYOUT_PREINITIALIZED = 8,
-    VK_IMAGE_LAYOUT_PRESENT_SRC_KHR = 0xC0000802,
+    VK_IMAGE_LAYOUT_PRESENT_SRC_KHR = 1000001002,
     VK_IMAGE_LAYOUT_BEGIN_RANGE = VK_IMAGE_LAYOUT_UNDEFINED,
     VK_IMAGE_LAYOUT_END_RANGE = VK_IMAGE_LAYOUT_PREINITIALIZED,
     VK_IMAGE_LAYOUT_RANGE_SIZE = (VK_IMAGE_LAYOUT_PREINITIALIZED - VK_IMAGE_LAYOUT_UNDEFINED + 1),
diff --git a/vulkan/libvulkan/Android.mk b/vulkan/libvulkan/Android.mk
index 2f809c2..7a2eb64 100644
--- a/vulkan/libvulkan/Android.mk
+++ b/vulkan/libvulkan/Android.mk
@@ -25,10 +25,6 @@ LOCAL_CPPFLAGS := -std=c++1y \
 	-Wno-c99-extensions \
 	-Wno-zero-length-array
 
-# TODO(jessehall): Very temporary, until VkResult values are defined as signed integers
-# rather than unsigned hex values.
-LOCAL_CFLAGS += -Wno-error=format
-
 LOCAL_C_INCLUDES := \
 	frameworks/native/vulkan/include \
 	system/core/libsync/include
diff --git a/vulkan/tools/Android.mk b/vulkan/tools/Android.mk
index 2c2309f..31d6089 100644
--- a/vulkan/tools/Android.mk
+++ b/vulkan/tools/Android.mk
@@ -23,10 +23,6 @@ LOCAL_CPPFLAGS := -std=c++1y \
 	-Wno-c++98-compat-pedantic \
 	-Wno-c99-extensions
 
-# TODO(jessehall): Very temporary, until VkResult values are defined as signed integers
-# rather than unsigned hex values.
-LOCAL_CFLAGS += -Wno-error=format
-
 LOCAL_C_INCLUDES := \
 	frameworks/native/vulkan/include
 
-- 
2.4.0

